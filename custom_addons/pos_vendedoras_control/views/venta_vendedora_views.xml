<odoo>

    <record id="view_venta_vendedora_form" model="ir.ui.view">
        <field name="name">venta.vendedora.form</field>
        <field name="model">venta.vendedora</field>
        <field name="arch" type="xml">
            <form>

                <header>
                    <button name="action_cerrar_dia"
                            type="object"
                            string="Cerrar Día"
                            class="btn-primary"
                            invisible="state != 'draft'"/>
                    <field name="state" widget="statusbar"/>
                </header>

                <sheet>

                    <!-- DATOS GENERALES -->
                    <group>
                        <field name="name" readonly="1"/>
                        <field name="user_id" readonly="state == 'closed'"/>
                        <field name="fecha" readonly="state == 'closed'"/>
                        <field name="gastos" readonly="state == 'closed'"/>
                    </group>

                    <notebook>
                        <page string="Tickets">

                            <!-- BLOQUEAR EDICIÓN SI ESTÁ CERRADO -->
                            <field name="line_ids"
                                   readonly="state == 'closed'">

                                <tree editable="bottom">
                                    <field name="pos_order_id"/>
                                    <field name="pos_reference" readonly="1"/>
                                    <field name="efectivo" readonly="1"/>
                                    <field name="transferencia" readonly="1"/>
                                    <field name="tarjeta" readonly="1"/>
                                </tree>

                            </field>

                        </page>
                    </notebook>

                    <!-- TOTALES -->
                    <group>
                        <field name="total_efectivo" readonly="1"/>
                        <field name="total_transferencia" readonly="1"/>
                        <field name="total_tarjeta" readonly="1"/>
                        <field name="total_ventas" readonly="1"/>
                        <field name="venta_neta" readonly="1"/>
                    </group>

                </sheet>
            </form>
        </field>
    </record>

    <!-- VISTA TREE -->
    <record id="view_venta_vendedora_tree" model="ir.ui.view">
        <field name="name">venta.vendedora.tree</field>
        <field name="model">venta.vendedora</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="fecha"/>
                <field name="user_id"/>
                <field name="total_ventas"/>
                <field name="gastos"/>
                <field name="venta_neta"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- ACCIÓN -->
    <record id="action_venta_vendedora" model="ir.actions.act_window">
        <field name="name">Cierre Diario</field>
        <field name="res_model">venta.vendedora</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- MENÚ -->
    <menuitem id="menu_venta_vendedora_root"
              name="Control Vendedoras"
              parent="point_of_sale.menu_point_root"
              sequence="50"/>

    <menuitem id="menu_venta_vendedora"
              name="Cierre Diario"
              parent="menu_venta_vendedora_root"
              action="action_venta_vendedora"
              sequence="1"/>

</odoo>
